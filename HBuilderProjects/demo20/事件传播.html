<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			
			#box1{
				width: 500px;
				height: 500px;
				background: yellow;
			}
			#box2{
				width: 300px;
				height: 300px;
				background: red;
			}
			#box3{
				width: 100px;
				height: 100px;
				background: blue;
			}
			
		</style>
		<script type="text/javascript">
			window.onload=function(){
				var box1=document.getElementById("box1");
				var box2=document.getElementById("box2");
				var box3=document.getElementById("box3");
				bind(box1,"click",function(){
					alert("我是box1");
				})
				bind(box2,"click",function(){
					alert("我是box2");
				})
				bind(box3,"click",function(){
					alert("我是box3");
				})
				function bind(obj,str,callback){
					if(obj.addEventListener){
						//第一阶段由外向内捕获，第二阶段由内向外冒泡
						obj.addEventListener(str,callback,false);
						//依次弹出box3、box2、box1冒泡
						/*obj.addEventListener(str,callback,true);
						 依次弹出box1、box2、box3捕获，不执行冒泡
						 * */
					}else{
						obj.attachEvent("on"+str,function(){
							callback.call(obj);
						})
					}
				}
			}
			
		</script>
	</head>
	<body>
		
		<div id="box1">
		
			<div id="box2">
				<div id="box3">我是box3</div>
				我是box2
			</div>
			我是box1
		</div>
	</body>
</html>
